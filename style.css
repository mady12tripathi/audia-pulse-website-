// JavaScript for collapsible footer menus
const collapsibles = document.querySelectorAll('.footer-menu h4');
collapsibles.forEach((header) => {
  header.addEventListener('click', () => {
    header.nextElementSibling.classList.toggle('open');
  });
});

// Script for tech carousel scroll (horizontal scroll)
const techCarousel = document.querySelector('.tech-carousel');
let isDown = false;
let startX;
let scrollLeft;

techCarousel.addEventListener('mousedown', (e) => {
  isDown = true;
  techCarousel.classList.add('active');
  startX = e.pageX - techCarousel.offsetLeft;
  scrollLeft = techCarousel.scrollLeft;
});
techCarousel.addEventListener('mouseleave', () => {
  isDown = false;
  techCarousel.classList.remove('active');
});
techCarousel.addEventListener('mouseup', () => {
  isDown = false;
  techCarousel.classList.remove('active');
});
techCarousel.addEventListener('mousemove', (e) => {
  if (!isDown) return;
  e.preventDefault();
  const x = e.pageX - techCarousel.offsetLeft;
  const walk = (x - startX) * 2; // scroll-fast
  techCarousel.scrollLeft = scrollLeft - walk;
});

// Smooth modal popup for info labels
const modalTriggers = document.querySelectorAll('.info-label');
const modals = document.querySelectorAll('.info-modal');
const closeButtons = document.querySelectorAll('.close-modal');

modalTriggers.forEach((trigger, index) => {
  trigger.addEventListener('click', () => {
    modals[index].classList.add('show');
  });
});

closeButtons.forEach((btn, index) => {
  btn.addEventListener('click', () => {
    modals[index].classList.remove('show');
  });
});

window.addEventListener('click', (e) => {
  modals.forEach((modal) => {
    if (e.target === modal) {
      modal.classList.remove('show');
    }
  });
});

// Buy Now confirmation
const buyBtn = document.querySelector('.buy-btn');
if (buyBtn) {
  buyBtn.addEventListener('click', () => {
    const confirmBuy = confirm('Redirecting to purchase page. Continue?');
    if (confirmBuy) {
      window.location.href = 'https://www.amazon.in/';
    }
  });
}

// Auto-scroll tech carousel
setInterval(() => {
  if (techCarousel.scrollLeft + techCarousel.offsetWidth >= techCarousel.scrollWidth) {
    techCarousel.scrollLeft = 0;
  } else {
    techCarousel.scrollLeft += 1;
  }
}, 30);
  
